### 简介

服务发现组件，spring cloud netflix微服务套件中的一部分。当集群中有分片故障时，eureka会转入自动保护模式，它允许分片故障期间继续提供服务的发现和注册，当故障分片恢复正常，集群中其他分片会同步数据。



### 问题：

- 要开启自我保护模式吗？

  自我保护模式，在集群有分片故障时，eureka把可用的、不可用的都保存起来，坚持有总比没有的好。

  利：保证高可用，把网络分区故障时，eureka和微服务无法通信，但是微服务是健康的，注册中心会保留这个微服务。

  弊：不能及时剔除不可用的服务

  总结：看服务多大，如果分区多那就开启自我保护模式。如果应用不是很大，微服务挂掉的概率要比分区网络故障的概率大多了，建议关闭自我保护模式。